<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">

    <title>å”è²ä¸“å±ç½‘ç«™</title>

    <link rel="stylesheet" href="index.css">
    <script src="index.js"></script>
</head>
<body>

    <canvas id='drawHeart' width="100%" height="100%"
    style="left: 0px; border:dashed 2px #ccc;position:absolute;z-index:-2;filter: alpha(opacity:50);opacity: 0.5"></canvas>
<script>
    const canvas = document.getElementById('drawHeart');
    const ctx = canvas.getContext('2d');
    let wW = window.innerWidth;
    let wH = window.innerHeight;
    const num = 100;
    const hearts = [];
    const heartImage = new Image();
    heartImage.src = 'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><path id="heart" d="M10,30 A20,20,0,0,1,50,30 A20,20,0,0,1,90,30 Q90,60,50,90 Q10,60,10,30 Z" fill="red"/></svg>';

    class Heart {
        constructor(type) {
            this.type = type;
            // åˆå§‹åŒ–ç”ŸæˆèŒƒå›´
            this.x = Math.random() * wW;
            this.y = Math.random() * wH;
            this.opacity = Math.random() * .5 + .5;
            // åç§»é‡
            this.vel = {
                x: (Math.random() - .5) * 5,
                y: (Math.random() - .5) * 5
            }
            this.initialW = wW * .5;
            this.initialH = wH * .5;
            // ç¼©æ”¾æ¯”ä¾‹
            this.targetScale = Math.random() * .15 + .02; // æœ€å°0.02
            this.scale = Math.random() * this.targetScale;
            // æ–‡å­—ä½ç½®
            this.fx = Math.random() * wW;
            this.fy = Math.random() * wH;
            this.fs = Math.random() * 10;
            this.text = getText();
            this.fvel = {
                x: (Math.random() - .5) * 5,
                y: (Math.random() - .5) * 5,
                f: (Math.random() - .5) * 2
            }
        }
        draw() {
            ctx.save();
            ctx.globalAlpha = this.opacity;
            ctx.drawImage(heartImage, this.x, this.y, this.width, this.height);
            // ctx.scale(this.scale + 1, this.scale + 1);
            if (!this.type) {
                // è®¾ç½®æ–‡å­—å±æ€§
                ctx.fillStyle = getColor();
                ctx.font = 'italic ' + this.fs + 'px sans-serif';
                // å¡«å……å­—ç¬¦ä¸²
                ctx.fillText(this.text, this.fx, this.fy);
            }
            ctx.restore();
        }
        update() {
            this.x += this.vel.x;
            this.y += this.vel.y;
            if (this.x - this.width > wW || this.x + this.width < 0) {
                // é‡æ–°åˆå§‹åŒ–ä½ç½®
                this.scale = 0;
                this.x = Math.random() * wW;
                this.y = Math.random() * wH;
            }
            if (this.y - this.height > wH || this.y + this.height < 0) {
                // é‡æ–°åˆå§‹åŒ–ä½ç½®
                this.scale = 0;
                this.x = Math.random() * wW;
                this.y = Math.random() * wH;
            }
            // æ”¾å¤§
            this.scale += (this.targetScale - this.scale) * .1;
            this.height = this.scale * this.initialH;
            this.width = this.height * 1.4;
            // -----æ–‡å­—-----
            this.fx += this.fvel.x;
            this.fy += this.fvel.y;
            this.fs += this.fvel.f;
            if (this.fs > 50) {
                this.fs = 2;
            }
            if (this.fx - this.fs > wW || this.fx + this.fs < 0) {
                // é‡æ–°åˆå§‹åŒ–ä½ç½®
                this.fx = Math.random() * wW;
                this.fy = Math.random() * wH;
            }
            if (this.fy - this.fs > wH || this.fy + this.fs < 0) {
                // é‡æ–°åˆå§‹åŒ–ä½ç½®
                this.fx = Math.random() * wW;
                this.fy = Math.random() * wH;
            }

        }
    }

    function getText() {
        const val = Math.random() * 10;
        if (val > 1 && val <= 3) {
            return 'æ°¸è¿œçˆ±å”è²â¤ï¸';
        } else if (val > 3 && val <= 5) {
            return 'æˆ‘ä¸€ç›´é™ªç€ä½ ğŸ’—';
        } else if (val > 5 && val <= 8) {
            return 'éªšè´§è€å©†å’Œé—·éªšè€å…¬';
        } else {
            return 'æˆ‘ä¸€ç›´ä¼šæ˜¯ä½ çš„ä¾é â¤ï¸';
        }
    }

    function getColor() {
        const val = Math.random() * 10;
        if (val > 0 && val <= 1) {
            return '#ff1493';
        } else if (val > 1 && val <= 3) {
            return '#c0c0c0';
        } else if (val > 3 && val <= 5) {
            return '#ff0000';
        } else if (val > 5 && val <= 7) {
            return '#ff1493';
        } else if (val > 7 && val <= 9) {
            return '#ffd700';
        } else {
            return '#ffff00';
        }
    }

    function init() {
        canvas.width = wW;
        canvas.height = wH;
        for (let i = 0; i < num; i++) {
            hearts.push(new Heart(i % 5));
        }
        render();
    }

    function render() {
        ctx.clearRect(0, 0, wW, wH);
        for (let i = 0; i < hearts.length; i++) {
            hearts[i].draw();
            hearts[i].update();
        }
        setTimeout(render, 60);
    }

    init();
    window.addEventListener('resize', function () {
        canvas.width = wW = window.innerWidth;
        canvas.height = wH = window.innerHeight;
    });




</script>
    <h1>æ­¤ç«™å¯ä¸”ä»…å¯ç”¨äºå”è²è€å©†ğŸ’—</h1>
    <a href="avatar.html">é€‰æƒ…å¤´</a>
    <a href="lovetime.html">Love Timeline</a>
    <a href="photo.html">åˆç…§</a>
    <!-- <a href="month.html">æ»¡æœˆå¿«ä¹</a> -->

    <h2>â¤ï¸</h2>
    <div id="img_box">
        
        <div>
            <img id="alisa" src="/img/alisa1.jpeg" alt="My test image" />
            <p>å°„æ‰‹åº§å”å°å§</p>
        </div>

        <div>
            <img id="bob" src="/img/bob1.jpeg" alt="My test image" />
            <p>å¤„å¥³åº§æ—å…ˆç”Ÿ</p>
        </div>
    </div>

    <p id="ps">ç‚¹å‡»å¤´åƒå¯åˆ‡æ¢</p>

    <!-- <div id="flex">
        <div id="liuyan">
            <div id="centerbtn">
                <button id="tfbtn" class="button-1" onclick="window.location.href='liuyan.html'">å”å°å§ç•™è¨€</button>
                <button id="bobbtn" class="button-1" onclick="window.location.href='liuyan.html'">æ—å…ˆç”Ÿç•™è¨€</button>
            </div>
            <div id="liuyantext">
                <p>hello</p>
                <p>hello</p>
                <p>hello</p>
                <p>hello</p>
                <p>hello</p>
            </div>
        </div>
    </div> -->

    <div id="bottomdiv">
        <p>å†™åœ¨åé¢:</p>
        <p>
            æˆ‘å¾ˆç¡®å®š æˆ‘å¾ˆçˆ±ä½  æˆ‘ä¼šçæƒœä¿æŠ¤â¤ï¸
        </p>
    </div>
</body>
</html>